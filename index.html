<script>
(function(){
  // ğŸ‘‰ PON AQUÃ LA URL PÃšBLICA DE TU BACKEND (Render/Vercel/Railway/Azure)
  const API_BASE = 'https://TU-BACKEND.onrender.com'; // <-- CAMBIA ESTO

  async function enviarPorCorreo(pdfBlob, filename, emailDestino = 'j.a.l.h@outlook.com') {
    const formData = new FormData();
    formData.append('pdf', pdfBlob, filename);
    formData.append('to', emailDestino);
    formData.append('subject', `Inventario Unidad Toreto â€“ ${filename}`);
    formData.append('body', `Hola,\n\nAdjunto el PDF "${filename}" generado desde la app web.\n\nSaludos.`);

    // ğŸ‘‰ URL ABSOLUTA hacia tu backend (NO /api relativo en GitHub Pages)
    const resp = await fetch(`${API_BASE}/api/send-email`, {
      method: 'POST',
      body: formData
    });
    if (!resp.ok) {
      const txt = await resp.text().catch(()=> '');
      throw new Error(`Error al enviar correo (${resp.status}). ${txt}`);
    }
    return await resp.json().catch(()=>({}));
  }

  // ... (el resto de tu cÃ³digo igual: generarPDF, downloadBlob, etc.)
})();
</script>
